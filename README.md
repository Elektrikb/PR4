# Код-Мастер

"Код-Мастер" — это многопользовательская сетевая игра, вдохновлённая логической игрой "Мастермайнд". Игроки подключаются к серверу, чтобы попытаться угадать секретный код, получая обратную связь в виде маркеров.

## Функциональные возможности

### Сервер
- Генерирует секретный код (4 случайных символа A-Z или цифры 0-9) при запуске игры.
- Поддерживает подключение от 2 до 4 игроков через HTTP API.
- Принимает догадки игроков, сравнивает их с секретным кодом и возвращает:
  - Количество **чёрных маркеров** (символы на правильной позиции).
  - Количество **белых маркеров** (символы есть, но не на правильной позиции).
- Завершает раунд, если:
  - Один из игроков угадал код.
  - Истёк лимит времени.
  - Превышено количество попыток.
- Сохраняет результаты игры в XML-файл, включая:
  - Время начала и окончания игры.
  - Секретный код.
  - Количество попыток каждого игрока.
  - Победителя.
- Автоматически создаёт новую игру после завершения текущей.

### Клиент
- Подключается к серверу через HTTP API.
- Отправляет догадки и получает обратную связь от сервера.
- Отображает количество чёрных и белых маркеров.
- Получает уведомление о победе или поражении по окончании игры.

## Технические особенности
- **Канал передачи данных**: HTTP API.
<!-- - **Асинхронная обработка**: Используется для управления игровыми событиями (ожидание игроков, завершение игры по таймеру). -->
- **XML-сериализация**: Результаты игры сохраняются в формате XML.

## Установка и запуск

- Убедитесь, что у вас установлен Go версии 1.23.1 или выше.

### Сервер

1. Перейдите в папку `server`:

```bash
cd server
```

2. Запустите сервер:

```bash
go run main.go
```

3. Сервер будет доступен по адресу `http://localhost:8080`.

### Клиент

1. Перейдите в папку `client`:

```bash
cd client
```

2. Запустите клиент:

```bash
go run main.go
```

### API эндпоинты

- `/join`

    - Метод: `GET`
    - Описание: Подключение игрока к игре. Возвращает ID игрока и ID игры.
    - Ответ:
        ```json
        {
        "message": "Вы успешно присоединились к игре",
        "attempts": 10,
        "time_limit": "2m0s",
        "player_id": 1,
        "game_id": 1
        }
        ```
- `/guess`

    - Метод: `GET`
    - Описание: Отправка догадки игрока.
    - Параметры запроса:
        - `game_id`: ID игры
        - `player_id`: ID игрока
        - `guess`: Догадка (строка из 4 символов A-Z или 0-9)
    - Ответ:
        ```json
        {
        "message": "Ответ принят",
        "attempt": 1,
        "max_attempts": 10,
        "black": 2,
        "white": 1,
        "is_end": false,
        "time_left": "1m30s"
        }
        ```

- /status
    - Метод: GET
    - Параметры:
            - game_id (int): ID игры.
    - Описание: Получение статуса текущей игры.
    - Ответ:
    ```json
    {
    "is_begin": false,
    "message": "Ожидание игроков (2/4). Осталось 28s"
    }
    ```
